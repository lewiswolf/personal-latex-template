% spell-checker: disable
% spellchecker: disable
\usepackage[top=2cm, bottom=2cm, left=2cm, right=2cm]{geometry}
\usepackage[utf8]{inputenc}			 	% ASCII encoding
\usepackage[english]{babel}				% use this to add extra languages
\usepackage[T1]{fontenc}				% font encoding
\usepackage{lmodern}					% default font
\usepackage{amssymb}					% maths
\usepackage{mathtools}				  	% maths
\usepackage[none]{hyphenat}			 	% less word breaks more kerning
\usepackage{prettyref}					% label and reference autoformatting
\usepackage[hidelinks]{hyperref}		% makes things clickable
\usepackage[nodoi]{apacite}				% bib style - APA
\usepackage{natbib}						% bib support for APA
\usepackage{minted}						% syntax highlighting
\usepackage{graphicx}					% import images with \includegraphics{filepath}
\usepackage{xcolor}						% change font color with \textcolor{color}{text}
\usepackage{pdfpages}					% include pdfs with \includepdf{link}
\usepackage{float}						% support for better figure placement
\usepackage{enumitem}					% support for better \begin{enumerate}
\usepackage{titlesec}					% chapter title formatting
\usepackage{lipsum}						% lorem ipsum \lipsum[seed]
\usepackage{datetime}					% time itself

\makeatletter%
	% Title Style for Article
	\@ifclassloaded{article}{%
		\renewcommand*{\title}[1]{\gdef\@title{%
			\vspace{-16px}
			\textbf{#1}
		}}
		\renewcommand*{\author}[1]{\gdef\@author{%
			\textit{#1}
		}}
		\renewcommand*{\date}[1]{\gdef\@date{%
			\normalfont{#1}
		}}
	}{}

	% Title Style for Journal
	\@ifclassloaded{journal}{%
		\renewcommand*{\title}[1]{\gdef\@title{%
			\vspace{-40px}
			\hspace{-7px} % dno why?
			#1
		}}
		\renewcommand*{\subtitle}[1]{\gdef\@subtitle{%
			\textit{#1}
			\vspace{-16px}
		}}
		\renewcommand*{\author}[1]{\gdef\@author{%
			\textup{\normalsize\sffamily{#1}}
		}}
	}{}

	% Title Style for Report
	\@ifclassloaded{report}{%
		\newcommand*{\project}[1]{\gdef\@project{%
			#1
		}}
		\newcommand*{\institution}[1]{\gdef\@institution{%
			#1
		}}
		\renewcommand*{\maketitle}{%
			\thispagestyle{empty}
			\setcounter{page}{0}
			\definecolor{bg}{RGB}{34, 31, 32}
			\pagecolor{bg}
			\color{white}
			\begin{center}
				\renewcommand*{\baselinestretch}{1.2}
				\phantom{.} \par
				\vspace*{\fill}
				{\Huge \bf \@title \par}
				\vspace{1cm}
				{\LARGE \it \@author \par}
				\vspace{3cm}
				\vspace*{\fill}
				\includegraphics[height=70pt]{./images/logo-white.png} \par
				\vspace*{\fill}
				\vspace{3cm}
				{\Large \@institution \par}
				\vspace{1cm}
				{\@project \par}
				\vspace{1cm}
				{\small\@date}
				\vspace*{\fill}
			\end{center}
			\cleardoublepage{}
			\pagecolor{white}
			\color{black}
		}
	}{}

	% Abstract Styles
	\@ifclassloaded{report}{%
		\renewenvironment{abstract}{%
			\vspace*{\fill}
			\section*{\centering \bf Abstract}
		}{%
			\vspace*{\fill}
		}
	}{
		\renewenvironment{abstract}{%
			\setlength{\parindent}{0pt}
			\section*{\hspace{2cm}Abstract}
			\small
			\list{}{\leftmargin2cm \rightmargin\leftmargin}
			\item\relax
		}{%
			\endlist\par\bigskip
		}
	}

	% Appendix Styles
	\@ifclassloaded{report}{%
		\renewenvironment{appendix}{%
			\renewcommand*{\thechapter}{\Alph{chapter}}
			\renewcommand*{\thesection}{A.\arabic{section}}
			\setcounter{chapter}{0}
			\chapter*{Appendix}
			\addcontentsline{toc}{chapter}{Appendix}
		}{}
	}

	% Footnote Styles
	\renewcommand*{\@makefntext}[1]{%
		\vspace{4pt}
		\hb@xt@0.5em{\hss\@makefnmark{}}
		\vspace{-3.25ex}
		\parindent=10pt\hangindent=10pt #1
	}
\makeatother

% Page Layout
\setlength{\parindent}{30pt}
\pagestyle{plain}

% Format Date
\newdateformat{getDate}{%
\THEDAY~\monthname[\THEMONTH]~\THEYEAR}

% Format Chapter Headings
\titleformat{\chapter}[hang]{\Huge\bfseries}{\thechapter{ }}{0pt}{\Huge\bf}

% Label and Reference Stylings
\newrefformat{chapter}{\hyperref[{#1}]{chapter~\ref*{#1}}}
\newrefformat{section}{\hyperref[{#1}]{section~\ref*{#1}}}

\AtBeginDocument{%
	% Bib Style
	\renewcommand{\APACrefYearMonthDay}[3]{\BBOP{#1}\BBCP}
}

% Default Code Styles
\setminted{obeytabs=true, tabsize=4, fontsize=\small}

% Math Operators
\DeclareMathOperator*{\argmax}{argmax}
\DeclareMathOperator*{\argmin}{argmin}